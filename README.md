# DevSecOps

**DevSecOps Implementation
An End-to-End Secure DevOps Pipeline**

**Goals of Our DevSecOps Pipeline**
End-to-end security across the CI/CD pipeline
Early detection of vulnerabilities
Seamless developer experience with automated checks
Compliance with security standards


![image](https://github.com/user-attachments/assets/9b355b6d-b44d-42b7-864f-5203750f62c7)


**Overview of DevSecOps Pipeline**
Integrating security throughout the software development lifecycle
SAST (Static Application Security Testing) and DAST (Dynamic Application Security Testing) as core components

**Azure Repos**
Azure Repos is the source code repository in the DevSecOps pipeline. It provides Git-based version control, supports branching for feature development, and integrates directly with Azure Pipelines to automate CI/CD processes.
Supports Git-based version control and branching.
Enables seamless collaboration through pull requests and branch policies.


**Azure CI/CD Pipeline**
Azure CI/CD pipeline automates the process of building, testingand deploying applications to different environments. It ensures faster development cycles, consistent deployments, and better quality by integrating source control, build automation, and release management.

**Continuous Integration (CI):**
Automatically triggers builds upon code changes.
Includes steps like code checkout, dependency installation, build, and test.
**Continuous Deployment (CD):**
Automates the deployment process to various environments (Dev, Staging, Production).
Integrates with  Azure Kubernetes Service (AKS), and more.


**Code Analysis Tools - SonarQube**
SonarQube analyzes code for quality, bugs, and security vulnerabilities. It offers detailed insights into potential risks and provides actionable metrics to improve code quality.
Detects bugs, vulnerabilities, and code smells.
Integrates with Azure Pipelines for continuous code quality checks.

**SBOM - Cyclone DX**
Cyclone DX is an open-source standard for creating Software Bill of Materials (SBOM). It helps track and manage software components and their vulnerabilities.
SBOM Reports Integration: After generating SBOM reports, they are imported into Dependency Track for visualization and detailed analysis of dependencies and vulnerabilities
Provides transparency in the software supply chain.
Supports dependency management and vulnerability tracking.


**Dependency Tracking - Dependency Track**

Dependency Track is a tool used for tracking and managing third-party libraries and open-source components, identifying vulnerabilities, and ensuring compliance with security standards. It analyzes the SBOM reports generated by CycloneDX and provides visibility into dependencies, giving severity ratings based on vulnerabilities and CVE (Common Vulnerabilities and Exposures) scoring.
SBOM Report Analysis: Dependency Track analyzes the SBOM reports created by CycloneDX, assessing the severity of vulnerabilities in the dependencies using CVE scoring and other vulnerability data.
Vulnerability Identification: It helps identify known vulnerabilities in third-party libraries and provides recommendations for mitigation based on severity levels.
Compliance and Risk Management: Dependency Track ensures that the software supply chain meets security and compliance standards by continuously tracking vulnerabilities and their impact.



**Secret Scanning - Detect Secrets**

Detect Secrets scans source code for sensitive information, such as hardcoded credentials and API tokens, to prevent leaks in the repository.
Prevents accidental exposure of secrets like credentials or API tokens.
Integrates with CI/CD pipelines to automate secret detection.


** Image Analysis - Trivy**
Trivy scans Docker images for known vulnerabilities and misconfigurations in the operating system packages and application dependencies.
Detects vulnerabilities and misconfigurations in container images.
Integrates with CI/CD pipelines to scan images before deployment.

**Container Image Creation - Docker**

Docker containers provide a consistent and isolated environment for applications across different stages of the pipeline, ensuring they run the same way from development to production. 
Docker packages the application and its dependencies into a portable container that can be easily deployed, ensuring consistency across environments.


Multi-Stage Dockerfile: We use multi-stage Dockerfiles to reduce the final image size, optimize the build process, and create lightweight containers that are less prone to vulnerabilities.
Non-Root User: A non-root user is added in the Dockerfile to enhance security, ensuring that the container runs with minimal privileges and reduces the risk of exploitation.
Portable and Consistent: Docker ensures that the application behaves the same way across different environments, making deployments and scaling more predictable and reliable.


**Infrastructure as Code - Pulumi**
Pulumi is an Infrastructure as Code (IaC) tool that automates the provisioning and management of cloud infrastructure using general-purpose programming languages. This allows teams to use languages they are already familiar with, such as Python, Java, or Go, to define and deploy infrastructure, making it easier for developers to manage cloud resources.

Multi-Language Support: One of the key advantages of Pulumi is its support for multiple languages. Developers can use Python, Java, Go, or .NET languages to write IaC code, enabling teams to leverage their existing knowledge and skills without having to learn a new domain-specific language.

Automates the provisioning of cloud infrastructure with code.
Ensures consistency and repeatability in infrastructure deployments.



**Azure Kubernetes Service (AKS)**
Azure Kubernetes Service (AKS) provides a managed Kubernetes environment, offering container orchestration and scaling within a private network. In this setup, AKS is deployed in a private network for enhanced security, with access configured through a VM located on the same network. The application is exposed to external traffic using a load balancer to manage incoming requests.

Private AKS Cluster: AKS is deployed in a private subnet to enhance 
security, with no direct internet access.

Cluster Access: A VM within the same network provides the gateway to 
access the AKS cluster, ensuring secure communication.

Load Balancer: External traffic is routed through an Azure Load Balancer 
to expose the application running in the AKS cluster 
to the internet while maintaining secure networking practices.


** NGINX Ingress Controller**
NGINX Ingress Controller is used to manage external access to services within the AKS cluster, providing routing, load balancing, and SSL termination. The ingress controller works in tandem with the Azure Load Balancer, routing traffic to the appropriate services based on rules defined in the Kubernetes manifests.
Traffic Management: NGINX Ingress routes incoming traffic from the load balancer to the correct microservices inside the AKS cluster.
External Access: The Azure Load Balancer forwards requests to the NGINX Ingress Controller, which then directs them to the application services in the AKS cluster.

**DAST Tool - OWASP ZAP**
OWASP ZAP is a tool for dynamic application security testing (DAST), identifying security vulnerabilities in running applications through simulated attacks.
Identifies security vulnerabilities through real-world attack simulations.
Provides detailed security reports to help secure applications.


**Monitoring - New Relic**
New Relic provides comprehensive observability by monitoring application performance, infrastructure health, and delivering real-time insights into system behavior. This helps organizations identify issues before they impact users and ensures the smooth operation of applications and infrastructure.

Application and Infrastructure Monitoring: New Relic monitors both application health and infrastructure performance, providing visibility into the performance of servers, databases, services, and cloud environments.
Real-Time Insights: It offers real-time monitoring and analytics, helping teams proactively resolve issues and optimize system performance by identifying bottlenecks and failure points.
Multiple Integrations: New Relic supports integrations with various cloud platforms, APIs, and other applications, enabling centralized monitoring of all components of the technology stack.


Thank you
Anil Kumle
